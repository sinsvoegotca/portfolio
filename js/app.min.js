(() => {
	var t = {
		732: function (t) {
			t.exports = (function () {
				"use strict";
				function t() {
					return (
						(t =
							Object.assign ||
							function (t) {
								for (var e = 1; e < arguments.length; e++) {
									var n = arguments[e];
									for (var o in n)
										Object.prototype.hasOwnProperty.call(
											n,
											o
										) && (t[o] = n[o]);
								}
								return t;
							}),
						t.apply(this, arguments)
					);
				}
				var e = "undefined" != typeof window,
					n =
						(e && !("onscroll" in window)) ||
						("undefined" != typeof navigator &&
							/(gle|ing|ro)bot|crawl|spider/i.test(
								navigator.userAgent
							)),
					o = e && "IntersectionObserver" in window,
					i = e && "classList" in document.createElement("p"),
					s = e && window.devicePixelRatio > 1,
					a = {
						elements_selector: ".lazy",
						container: n || e ? document : null,
						threshold: 300,
						thresholds: null,
						data_src: "src",
						data_srcset: "srcset",
						data_sizes: "sizes",
						data_bg: "bg",
						data_bg_hidpi: "bg-hidpi",
						data_bg_multi: "bg-multi",
						data_bg_multi_hidpi: "bg-multi-hidpi",
						data_bg_set: "bg-set",
						data_poster: "poster",
						class_applied: "applied",
						class_loading: "loading",
						class_loaded: "loaded",
						class_error: "error",
						class_entered: "entered",
						class_exited: "exited",
						unobserve_completed: !0,
						unobserve_entered: !1,
						cancel_on_exit: !0,
						callback_enter: null,
						callback_exit: null,
						callback_applied: null,
						callback_loading: null,
						callback_loaded: null,
						callback_error: null,
						callback_finish: null,
						callback_cancel: null,
						use_native: !1,
						restore_on_error: !1,
					},
					r = function (e) {
						return t({}, a, e);
					},
					c = function (t, e) {
						var n,
							o = "LazyLoad::Initialized",
							i = new t(e);
						try {
							n = new CustomEvent(o, {
								detail: { instance: i },
							});
						} catch (t) {
							(n =
								document.createEvent(
									"CustomEvent"
								)).initCustomEvent(o, !1, !1, {
									instance: i,
								});
						}
						window.dispatchEvent(n);
					},
					l = "src",
					u = "srcset",
					d = "sizes",
					p = "poster",
					h = "llOriginalAttrs",
					f = "data",
					g = "loading",
					m = "loaded",
					_ = "applied",
					b = "error",
					v = "native",
					y = "data-",
					w = "ll-status",
					A = function (t, e) {
						return t.getAttribute(y + e);
					},
					E = function (t) {
						return A(t, w);
					},
					O = function (t, e) {
						return (function (t, e, n) {
							var o = "data-ll-status";
							null !== n
								? t.setAttribute(o, n)
								: t.removeAttribute(o);
						})(t, 0, e);
					},
					L = function (t) {
						return O(t, null);
					},
					C = function (t) {
						return null === E(t);
					},
					S = function (t) {
						return E(t) === v;
					},
					x = [g, m, _, b],
					k = function (t, e, n, o) {
						t &&
							(void 0 === o
								? void 0 === n
									? t(e)
									: t(e, n)
								: t(e, n, o));
					},
					I = function (t, e) {
						i
							? t.classList.add(e)
							: (t.className += (t.className ? " " : "") + e);
					},
					q = function (t, e) {
						i
							? t.classList.remove(e)
							: (t.className = t.className
								.replace(
									new RegExp(
										"(^|\\s+)" + e + "(\\s+|$)"
									),
									" "
								)
								.replace(/^\s+/, "")
								.replace(/\s+$/, ""));
					},
					$ = function (t) {
						return t.llTempImage;
					},
					T = function (t, e) {
						if (e) {
							var n = e._observer;
							n && n.unobserve(t);
						}
					},
					P = function (t, e) {
						t && (t.loadingCount += e);
					},
					H = function (t, e) {
						t && (t.toLoadCount = e);
					},
					R = function (t) {
						for (
							var e, n = [], o = 0;
							(e = t.children[o]);
							o += 1
						)
							"SOURCE" === e.tagName && n.push(e);
						return n;
					},
					B = function (t, e) {
						var n = t.parentNode;
						n && "PICTURE" === n.tagName && R(n).forEach(e);
					},
					M = function (t, e) {
						R(t).forEach(e);
					},
					z = [l],
					N = [l, p],
					D = [l, u, d],
					F = [f],
					j = function (t) {
						return !!t[h];
					},
					V = function (t) {
						return t[h];
					},
					G = function (t) {
						return delete t[h];
					},
					W = function (t, e) {
						if (!j(t)) {
							var n = {};
							e.forEach(function (e) {
								n[e] = t.getAttribute(e);
							}),
								(t[h] = n);
						}
					},
					Y = function (t, e) {
						if (j(t)) {
							var n = V(t);
							e.forEach(function (e) {
								!(function (t, e, n) {
									n
										? t.setAttribute(e, n)
										: t.removeAttribute(e);
								})(t, e, n[e]);
							});
						}
					},
					Z = function (t, e, n) {
						I(t, e.class_applied),
							O(t, _),
							n &&
							(e.unobserve_completed && T(t, e),
								k(e.callback_applied, t, n));
					},
					J = function (t, e, n) {
						I(t, e.class_loading),
							O(t, g),
							n && (P(n, 1), k(e.callback_loading, t, n));
					},
					U = function (t, e, n) {
						n && t.setAttribute(e, n);
					},
					X = function (t, e) {
						U(t, d, A(t, e.data_sizes)),
							U(t, u, A(t, e.data_srcset)),
							U(t, l, A(t, e.data_src));
					},
					K = {
						IMG: function (t, e) {
							B(t, function (t) {
								W(t, D), X(t, e);
							}),
								W(t, D),
								X(t, e);
						},
						IFRAME: function (t, e) {
							W(t, z), U(t, l, A(t, e.data_src));
						},
						VIDEO: function (t, e) {
							M(t, function (t) {
								W(t, z), U(t, l, A(t, e.data_src));
							}),
								W(t, N),
								U(t, p, A(t, e.data_poster)),
								U(t, l, A(t, e.data_src)),
								t.load();
						},
						OBJECT: function (t, e) {
							W(t, F), U(t, f, A(t, e.data_src));
						},
					},
					Q = ["IMG", "IFRAME", "VIDEO", "OBJECT"],
					tt = function (t, e) {
						!e ||
							(function (t) {
								return t.loadingCount > 0;
							})(e) ||
							(function (t) {
								return t.toLoadCount > 0;
							})(e) ||
							k(t.callback_finish, e);
					},
					et = function (t, e, n) {
						t.addEventListener(e, n), (t.llEvLisnrs[e] = n);
					},
					nt = function (t, e, n) {
						t.removeEventListener(e, n);
					},
					ot = function (t) {
						return !!t.llEvLisnrs;
					},
					it = function (t) {
						if (ot(t)) {
							var e = t.llEvLisnrs;
							for (var n in e) {
								var o = e[n];
								nt(t, n, o);
							}
							delete t.llEvLisnrs;
						}
					},
					st = function (t, e, n) {
						!(function (t) {
							delete t.llTempImage;
						})(t),
							P(n, -1),
							(function (t) {
								t && (t.toLoadCount -= 1);
							})(n),
							q(t, e.class_loading),
							e.unobserve_completed && T(t, n);
					},
					at = function (t, e, n) {
						var o = $(t) || t;
						ot(o) ||
							(function (t, e, n) {
								ot(t) || (t.llEvLisnrs = {});
								var o =
									"VIDEO" === t.tagName
										? "loadeddata"
										: "load";
								et(t, o, e), et(t, "error", n);
							})(
								o,
								function (i) {
									!(function (t, e, n, o) {
										var i = S(e);
										st(e, n, o),
											I(e, n.class_loaded),
											O(e, m),
											k(n.callback_loaded, e, o),
											i || tt(n, o);
									})(0, t, e, n),
										it(o);
								},
								function (i) {
									!(function (t, e, n, o) {
										var i = S(e);
										st(e, n, o),
											I(e, n.class_error),
											O(e, b),
											k(n.callback_error, e, o),
											n.restore_on_error && Y(e, D),
											i || tt(n, o);
									})(0, t, e, n),
										it(o);
								}
							);
					},
					rt = function (t, e, n) {
						!(function (t) {
							return Q.indexOf(t.tagName) > -1;
						})(t)
							? (function (t, e, n) {
								!(function (t) {
									t.llTempImage =
										document.createElement("IMG");
								})(t),
									at(t, e, n),
									(function (t) {
										j(t) ||
											(t[h] = {
												backgroundImage:
													t.style
														.backgroundImage,
											});
									})(t),
									(function (t, e, n) {
										var o = A(t, e.data_bg),
											i = A(t, e.data_bg_hidpi),
											a = s && i ? i : o;
										a &&
											((t.style.backgroundImage =
												'url("'.concat(a, '")')),
												$(t).setAttribute(l, a),
												J(t, e, n));
									})(t, e, n),
									(function (t, e, n) {
										var o = A(t, e.data_bg_multi),
											i = A(
												t,
												e.data_bg_multi_hidpi
											),
											a = s && i ? i : o;
										a &&
											((t.style.backgroundImage =
												a),
												Z(t, e, n));
									})(t, e, n),
									(function (t, e, n) {
										var o = A(t, e.data_bg_set);
										if (o) {
											var i = o.split("|"),
												s = i.map(function (t) {
													return "image-set(".concat(
														t,
														")"
													);
												});
											(t.style.backgroundImage =
												s.join()),
												"" ===
												t.style
													.backgroundImage &&
												((s = i.map(function (
													t
												) {
													return "-webkit-image-set(".concat(
														t,
														")"
													);
												})),
													(t.style.backgroundImage =
														s.join())),
												Z(t, e, n);
										}
									})(t, e, n);
							})(t, e, n)
							: (function (t, e, n) {
								at(t, e, n),
									(function (t, e, n) {
										var o = K[t.tagName];
										o && (o(t, e), J(t, e, n));
									})(t, e, n);
							})(t, e, n);
					},
					ct = function (t) {
						t.removeAttribute(l),
							t.removeAttribute(u),
							t.removeAttribute(d);
					},
					lt = function (t) {
						B(t, function (t) {
							Y(t, D);
						}),
							Y(t, D);
					},
					ut = {
						IMG: lt,
						IFRAME: function (t) {
							Y(t, z);
						},
						VIDEO: function (t) {
							M(t, function (t) {
								Y(t, z);
							}),
								Y(t, N),
								t.load();
						},
						OBJECT: function (t) {
							Y(t, F);
						},
					},
					dt = function (t, e) {
						(function (t) {
							var e = ut[t.tagName];
							e
								? e(t)
								: (function (t) {
									if (j(t)) {
										var e = V(t);
										t.style.backgroundImage =
											e.backgroundImage;
									}
								})(t);
						})(t),
							(function (t, e) {
								C(t) ||
									S(t) ||
									(q(t, e.class_entered),
										q(t, e.class_exited),
										q(t, e.class_applied),
										q(t, e.class_loading),
										q(t, e.class_loaded),
										q(t, e.class_error));
							})(t, e),
							L(t),
							G(t);
					},
					pt = ["IMG", "IFRAME", "VIDEO"],
					ht = function (t) {
						return (
							t.use_native &&
							"loading" in HTMLImageElement.prototype
						);
					},
					ft = function (t, e, n) {
						t.forEach(function (t) {
							return (function (t) {
								return (
									t.isIntersecting ||
									t.intersectionRatio > 0
								);
							})(t)
								? (function (t, e, n, o) {
									var i = (function (t) {
										return x.indexOf(E(t)) >= 0;
									})(t);
									O(t, "entered"),
										I(t, n.class_entered),
										q(t, n.class_exited),
										(function (t, e, n) {
											e.unobserve_entered &&
												T(t, n);
										})(t, n, o),
										k(n.callback_enter, t, e, o),
										i || rt(t, n, o);
								})(t.target, t, e, n)
								: (function (t, e, n, o) {
									C(t) ||
										(I(t, n.class_exited),
											(function (t, e, n, o) {
												n.cancel_on_exit &&
													(function (t) {
														return E(t) === g;
													})(t) &&
													"IMG" === t.tagName &&
													(it(t),
														(function (t) {
															B(t, function (t) {
																ct(t);
															}),
																ct(t);
														})(t),
														lt(t),
														q(t, n.class_loading),
														P(o, -1),
														L(t),
														k(
															n.callback_cancel,
															t,
															e,
															o
														));
											})(t, e, n, o),
											k(n.callback_exit, t, e, o));
								})(t.target, t, e, n);
						});
					},
					gt = function (t) {
						return Array.prototype.slice.call(t);
					},
					mt = function (t) {
						return t.container.querySelectorAll(
							t.elements_selector
						);
					},
					_t = function (t) {
						return (function (t) {
							return E(t) === b;
						})(t);
					},
					bt = function (t, e) {
						return (function (t) {
							return gt(t).filter(C);
						})(t || mt(e));
					},
					vt = function (t, n) {
						var i = r(t);
						(this._settings = i),
							(this.loadingCount = 0),
							(function (t, e) {
								o &&
									!ht(t) &&
									(e._observer = new IntersectionObserver(
										function (n) {
											ft(n, t, e);
										},
										(function (t) {
											return {
												root:
													t.container === document
														? null
														: t.container,
												rootMargin:
													t.thresholds ||
													t.threshold + "px",
											};
										})(t)
									));
							})(i, this),
							(function (t, n) {
								e &&
									((n._onlineHandler = function () {
										!(function (t, e) {
											var n;
											((n = mt(t)),
												gt(n).filter(_t)).forEach(
													function (e) {
														q(e, t.class_error),
															L(e);
													}
												),
												e.update();
										})(t, n);
									}),
										window.addEventListener(
											"online",
											n._onlineHandler
										));
							})(i, this),
							this.update(n);
					};
				return (
					(vt.prototype = {
						update: function (t) {
							var e,
								i,
								s = this._settings,
								a = bt(t, s);
							H(this, a.length),
								!n && o
									? ht(s)
										? (function (t, e, n) {
											t.forEach(function (t) {
												-1 !==
													pt.indexOf(
														t.tagName
													) &&
													(function (t, e, n) {
														t.setAttribute(
															"loading",
															"lazy"
														),
															at(t, e, n),
															(function (
																t,
																e
															) {
																var n =
																	K[
																	t
																		.tagName
																	];
																n &&
																	n(
																		t,
																		e
																	);
															})(t, e),
															O(t, v);
													})(t, e, n);
											}),
												H(n, 0);
										})(a, s, this)
										: ((i = a),
											(function (t) {
												t.disconnect();
											})((e = this._observer)),
											(function (t, e) {
												e.forEach(function (e) {
													t.observe(e);
												});
											})(e, i))
									: this.loadAll(a);
						},
						destroy: function () {
							this._observer && this._observer.disconnect(),
								e &&
								window.removeEventListener(
									"online",
									this._onlineHandler
								),
								mt(this._settings).forEach(function (t) {
									G(t);
								}),
								delete this._observer,
								delete this._settings,
								delete this._onlineHandler,
								delete this.loadingCount,
								delete this.toLoadCount;
						},
						loadAll: function (t) {
							var e = this,
								n = this._settings;
							bt(t, n).forEach(function (t) {
								T(t, e), rt(t, n, e);
							});
						},
						restoreAll: function () {
							var t = this._settings;
							mt(t).forEach(function (e) {
								dt(e, t);
							});
						},
					}),
					(vt.load = function (t, e) {
						var n = r(e);
						rt(t, n);
					}),
					(vt.resetStatus = function (t) {
						L(t);
					}),
					e &&
					(function (t, e) {
						if (e)
							if (e.length)
								for (var n, o = 0; (n = e[o]); o += 1)
									c(t, n);
							else c(t, e);
					})(vt, window.lazyLoadOptions),
					vt
				);
			})();
		},
	},
		e = {};
	function n(o) {
		var i = e[o];
		if (void 0 !== i) return i.exports;
		var s = (e[o] = { exports: {} });
		return t[o].call(s.exports, s, s.exports, n), s.exports;
	}
	(() => {
		"use strict";
		const t = {};
		let e = !0,
			o = (t = 500) => {
				let n = document.querySelector("body");
				if (e) {
					let o = document.querySelectorAll("[data-lp]");
					setTimeout(() => {
						for (let t = 0; t < o.length; t++) {
							o[t].style.paddingRight = "0px";
						}
						(n.style.paddingRight = "0px"),
							document.documentElement.classList.remove("lock");
					}, t),
						(e = !1),
						setTimeout(function () {
							e = !0;
						}, t);
				}
			},
			i = (t = 500) => {
				let n = document.querySelector("body");
				if (e) {
					let o = document.querySelectorAll("[data-lp]");
					for (let t = 0; t < o.length; t++) {
						o[t].style.paddingRight =
							window.innerWidth -
							document.querySelector(".wrapper").offsetWidth +
							"px";
					}
					(n.style.paddingRight =
						window.innerWidth -
						document.querySelector(".wrapper").offsetWidth +
						"px"),
						document.documentElement.classList.add("lock"),
						(e = !1),
						setTimeout(function () {
							e = !0;
						}, t);
				}
			};
		function s(t) {
			setTimeout(() => {
				window.FLS && console.log(t);
			}, 0);
		}
		t.popup = new (class {
			constructor(t) {
				let e = {
					logging: !0,
					init: !0,
					attributeOpenButton: "data-popup",
					attributeCloseButton: "data-close",
					fixElementSelector: "[data-lp]",
					youtubeAttribute: "data-popup-youtube",
					youtubePlaceAttribute: "data-popup-youtube-place",
					setAutoplayYoutube: !0,
					classes: {
						popup: "popup",
						popupContent: "popup__content",
						popupActive: "popup_show",
						bodyActive: "popup-show",
					},
					focusCatch: !0,
					closeEsc: !0,
					bodyLock: !0,
					hashSettings: { location: !0, goHash: !0 },
					on: {
						beforeOpen: function () { },
						afterOpen: function () { },
						beforeClose: function () { },
						afterClose: function () { },
					},
				};
				this.youTubeCode,
					(this.isOpen = !1),
					(this.targetOpen = { selector: !1, element: !1 }),
					(this.previousOpen = { selector: !1, element: !1 }),
					(this.lastClosed = { selector: !1, element: !1 }),
					(this._dataValue = !1),
					(this.hash = !1),
					(this._reopen = !1),
					(this._selectorOpen = !1),
					(this.lastFocusEl = !1),
					(this._focusEl = [
						"a[href]",
						'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',
						"button:not([disabled]):not([aria-hidden])",
						"select:not([disabled]):not([aria-hidden])",
						"textarea:not([disabled]):not([aria-hidden])",
						"area[href]",
						"iframe",
						"object",
						"embed",
						"[contenteditable]",
						'[tabindex]:not([tabindex^="-"])',
					]),
					(this.options = {
						...e,
						...t,
						classes: { ...e.classes, ...t?.classes },
						hashSettings: { ...e.hashSettings, ...t?.hashSettings },
						on: { ...e.on, ...t?.on },
					}),
					(this.bodyLock = !1),
					this.options.init && this.initPopups();
			}
			initPopups() {
				this.popupLogging("Проснулся"), this.eventsPopup();
			}
			eventsPopup() {
				document.addEventListener(
					"click",
					function (t) {
						const e = t.target.closest(
							`[${this.options.attributeOpenButton}]`
						);
						if (e)
							return (
								t.preventDefault(),
								(this._dataValue = e.getAttribute(
									this.options.attributeOpenButton
								)
									? e.getAttribute(
										this.options.attributeOpenButton
									)
									: "error"),
								(this.youTubeCode = e.getAttribute(
									this.options.youtubeAttribute
								)
									? e.getAttribute(
										this.options.youtubeAttribute
									)
									: null),
								"error" !== this._dataValue
									? (this.isOpen || (this.lastFocusEl = e),
										(this.targetOpen.selector = `${this._dataValue}`),
										(this._selectorOpen = !0),
										void this.open())
									: void this.popupLogging(
										`Ой ой, не заполнен атрибут у ${e.classList}`
									)
							);
						return t.target.closest(
							`[${this.options.attributeCloseButton}]`
						) ||
							(!t.target.closest(
								`.${this.options.classes.popupContent}`
							) &&
								this.isOpen)
							? (t.preventDefault(), void this.close())
							: void 0;
					}.bind(this)
				),
					document.addEventListener(
						"keydown",
						function (t) {
							if (
								this.options.closeEsc &&
								27 == t.which &&
								"Escape" === t.code &&
								this.isOpen
							)
								return t.preventDefault(), void this.close();
							this.options.focusCatch &&
								9 == t.which &&
								this.isOpen &&
								this._focusCatch(t);
						}.bind(this)
					),
					this.options.hashSettings.goHash &&
					(window.addEventListener(
						"hashchange",
						function () {
							window.location.hash
								? this._openToHash()
								: this.close(this.targetOpen.selector);
						}.bind(this)
					),
						window.addEventListener(
							"load",
							function () {
								window.location.hash && this._openToHash();
							}.bind(this)
						));
			}
			open(t) {
				if (e)
					if (
						((this.bodyLock = !(
							!document.documentElement.classList.contains(
								"lock"
							) || this.isOpen
						)),
							t &&
							"string" == typeof t &&
							"" !== t.trim() &&
							((this.targetOpen.selector = t),
								(this._selectorOpen = !0)),
							this.isOpen && ((this._reopen = !0), this.close()),
							this._selectorOpen ||
							(this.targetOpen.selector =
								this.lastClosed.selector),
							this._reopen ||
							(this.previousActiveElement =
								document.activeElement),
							(this.targetOpen.element = document.querySelector(
								this.targetOpen.selector
							)),
							this.targetOpen.element)
					) {
						if (this.youTubeCode) {
							const t = `https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,
								e = document.createElement("iframe");
							e.setAttribute("allowfullscreen", "");
							const n = this.options.setAutoplayYoutube
								? "autoplay;"
								: "";
							if (
								(e.setAttribute(
									"allow",
									`${n}; encrypted-media`
								),
									e.setAttribute("src", t),
									!this.targetOpen.element.querySelector(
										`[${this.options.youtubePlaceAttribute}]`
									))
							) {
								this.targetOpen.element
									.querySelector(".popup__text")
									.setAttribute(
										`${this.options.youtubePlaceAttribute}`,
										""
									);
							}
							this.targetOpen.element
								.querySelector(
									`[${this.options.youtubePlaceAttribute}]`
								)
								.appendChild(e);
						}
						this.options.hashSettings.location &&
							(this._getHash(), this._setHash()),
							this.options.on.beforeOpen(this),
							document.dispatchEvent(
								new CustomEvent("beforePopupOpen", {
									detail: { popup: this },
								})
							),
							this.targetOpen.element.classList.add(
								this.options.classes.popupActive
							),
							document.documentElement.classList.add(
								this.options.classes.bodyActive
							),
							this._reopen
								? (this._reopen = !1)
								: !this.bodyLock && i(),
							this.targetOpen.element.setAttribute(
								"aria-hidden",
								"false"
							),
							(this.previousOpen.selector =
								this.targetOpen.selector),
							(this.previousOpen.element =
								this.targetOpen.element),
							(this._selectorOpen = !1),
							(this.isOpen = !0),
							setTimeout(() => {
								this._focusTrap();
							}, 50),
							this.options.on.afterOpen(this),
							document.dispatchEvent(
								new CustomEvent("afterPopupOpen", {
									detail: { popup: this },
								})
							),
							this.popupLogging("Открыл попап");
					} else
						this.popupLogging(
							"Ой ой, такого попапа нет.Проверьте корректность ввода. "
						);
			}
			close(t) {
				t &&
					"string" == typeof t &&
					"" !== t.trim() &&
					(this.previousOpen.selector = t),
					this.isOpen &&
					e &&
					(this.options.on.beforeClose(this),
						document.dispatchEvent(
							new CustomEvent("beforePopupClose", {
								detail: { popup: this },
							})
						),
						this.youTubeCode &&
						this.targetOpen.element.querySelector(
							`[${this.options.youtubePlaceAttribute}]`
						) &&
						(this.targetOpen.element.querySelector(
							`[${this.options.youtubePlaceAttribute}]`
						).innerHTML = ""),
						this.previousOpen.element.classList.remove(
							this.options.classes.popupActive
						),
						this.previousOpen.element.setAttribute(
							"aria-hidden",
							"true"
						),
						this._reopen ||
						(document.documentElement.classList.remove(
							this.options.classes.bodyActive
						),
							!this.bodyLock && o(),
							(this.isOpen = !1)),
						this._removeHash(),
						this._selectorOpen &&
						((this.lastClosed.selector =
							this.previousOpen.selector),
							(this.lastClosed.element =
								this.previousOpen.element)),
						this.options.on.afterClose(this),
						document.dispatchEvent(
							new CustomEvent("afterPopupClose", {
								detail: { popup: this },
							})
						),
						setTimeout(() => {
							this._focusTrap();
						}, 50),
						this.popupLogging("Закрыл попап"));
			}
			_getHash() {
				this.options.hashSettings.location &&
					(this.hash = this.targetOpen.selector.includes("#")
						? this.targetOpen.selector
						: this.targetOpen.selector.replace(".", "#"));
			}
			_openToHash() {
				let t = document.querySelector(
					`.${window.location.hash.replace("#", "")}`
				)
					? `.${window.location.hash.replace("#", "")}`
					: document.querySelector(`${window.location.hash}`)
						? `${window.location.hash}`
						: null;
				(document.querySelector(
					`[${this.options.attributeOpenButton} = "${t}"]`
				)
					? document.querySelector(
						`[${this.options.attributeOpenButton} = "${t}"]`
					)
					: document.querySelector(
						`[${this.options.attributeOpenButton} = "${t.replace(
							".",
							"#"
						)}"]`
					)) &&
					t &&
					this.open(t);
			}
			_setHash() {
				history.pushState("", "", this.hash);
			}
			_removeHash() {
				history.pushState("", "", window.location.href.split("#")[0]);
			}
			_focusCatch(t) {
				const e = this.targetOpen.element.querySelectorAll(
					this._focusEl
				),
					n = Array.prototype.slice.call(e),
					o = n.indexOf(document.activeElement);
				t.shiftKey &&
					0 === o &&
					(n[n.length - 1].focus(), t.preventDefault()),
					t.shiftKey ||
					o !== n.length - 1 ||
					(n[0].focus(), t.preventDefault());
			}
			_focusTrap() {
				const t = this.previousOpen.element.querySelectorAll(
					this._focusEl
				);
				!this.isOpen && this.lastFocusEl
					? this.lastFocusEl.focus()
					: t[0].focus();
			}
			popupLogging(t) {
				this.options.logging && s(`[Попапос]: ${t}`);
			}
		})({});
		t.mousePrlx = new (class {
			constructor(t, e = null) {
				if (
					((this.config = Object.assign(
						{ init: !0, logging: !0 },
						t
					)),
						this.config.init)
				) {
					const t = document.querySelectorAll("[data-prlx-mouse]");
					t.length
						? (this.paralaxMouseInit(t),
							this.setLogging(
								`Проснулся, слежу за объектами: (${t.length})`
							))
						: this.setLogging(
							"Нет ни одного объекта. Сплю...zzZZZzZZz..."
						);
				}
			}
			paralaxMouseInit(t) {
				t.forEach((t) => {
					const e = t.closest("[data-prlx-mouse-wrapper]"),
						n = t.dataset.prlxCx ? +t.dataset.prlxCx : 100,
						o = t.dataset.prlxCy ? +t.dataset.prlxCy : 100,
						i = t.hasAttribute("data-prlx-dxr") ? -1 : 1,
						s = t.hasAttribute("data-prlx-dyr") ? -1 : 1,
						a = t.dataset.prlxA ? +t.dataset.prlxA : 50;
					let r = 0,
						c = 0,
						l = 0,
						u = 0;
					function d(e = window) {
						e.addEventListener("mousemove", function (e) {
							const n =
								t.getBoundingClientRect().top + window.scrollY;
							if (
								n >= window.scrollY ||
								n + t.offsetHeight >= window.scrollY
							) {
								const t = window.innerWidth,
									n = window.innerHeight,
									o = e.clientX - t / 2,
									i = e.clientY - n / 2;
								(l = (o / t) * 100), (u = (i / n) * 100);
							}
						});
					}
					!(function e() {
						(r += ((l - r) * a) / 1e3),
							(c += ((u - c) * a) / 1e3),
							(t.style.cssText = `transform: translate3D(${(i * r) / (n / 10)
								}%,${(s * c) / (o / 10)}%,0);`),
							requestAnimationFrame(e);
					})(),
						e ? d(e) : d();
				});
			}
			setLogging(t) {
				this.config.logging && s(`[PRLX Mouse]: ${t}`);
			}
		})({});
		new (n(732))({
			elements_selector: "[data-src],[data-srcset]",
			class_loaded: "_lazy-loaded",
			use_native: !0,
		});
		let a = !1;
		setTimeout(() => {
			if (a) {
				let t = new Event("windowScroll");
				window.addEventListener("scroll", function (e) {
					document.dispatchEvent(t);
				});
			}
		}, 0);
		const r = document.querySelector(".personal-account__btn"),
			c = document.querySelector(".personal-account__textarea"),
			l = document.querySelectorAll(".personal-account__input"),
			u = document.querySelectorAll(".personal-account__contact"),
			d = document.querySelector(".personal-account__link"),
			p = document.querySelectorAll(".example__input");
		if (document.querySelector(".personal-account__input_text")) {
			const h = document.querySelector(".popup__btn-item"),
				f = document.querySelectorAll(".popup__project-item");
			h.addEventListener("click", function (t) {
				console.log(f);
			});
			document.querySelector(".personal-account__input_text").value =
				"мини рассказ о себе какое вы дерьмо";
			document.querySelector(".personal-account__textarea").value =
				"Расскажите о том какой вы дерьмовый ублюдок";
			document.querySelector(".personal-account__input_name").value =
				"Боже спаси и помоги";
			document.querySelector(".personal-account__tg-inp").value =
				"123123123";
			document.querySelector(".personal-account__number-inp").value =
				"123123123";
			document.querySelector(".popup__project-name").value =
				"Название говна";
			document.querySelector(".popup__project-link").value =
				"Ссылка на гавно";
		}
		(window.FLS = !0),
			(function (t) {
				let e = new Image();
				(e.onload = e.onerror =
					function () {
						t(2 == e.height);
					}),
					(e.src =
						"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA");
			})(function (t) {
				let e = !0 === t ? "webp" : "no-webp";
				document.documentElement.classList.add(e);
			});
		const buttonArrow = document.querySelector(".header__button");
		const blockHidden = document.querySelector(".header__block-items");
		if (blockHidden) buttonArrow.addEventListener("click", (function (e) {
			blockHidden.classList.toggle("_active");
		}));
		const iconArrow = document.querySelector("._icon-arrow-down");
		if (iconArrow) iconArrow.addEventListener("click", (function (e) {
			iconArrow.classList.toggle("_active");
		}));
		function userIsLoggedIn() {
			return !!localStorage.getItem("token");
		}
		const headerLk = document.querySelector(".header-lk");
		const headerMain = document.querySelector(".header-main");
		if (userIsLoggedIn !== true) {
			console.log('Увы');
		} else {
			headerLk.classList.add("_active");
			headerMain.classList.add("_not-active");
		}
	})();
})();

document.querySelector(".auth__button")?.addEventListener("click", async () => {
	const login = document.querySelector(".forms-popup__mail > input").value;
	const password = document.querySelector(
		".forms-popup__password > input"
	).value;
	const response = await fetch("http://localhost/user/signIn", {
		method: "POST",
		headers: {
			"Content-Type": "application/json",
		},
		body: JSON.stringify({
			login,
			password,
		}),
	}).then((res) => res.json());
	console.log(response);
	if (!response.code) {
		localStorage.setItem("token", response.token);
		location.reload();
	} else alert(response.message);
});

document
	.querySelector(".register__button")
	?.addEventListener("click", async () => {
		console.log("clicked");
		const login = document.querySelector(
			".forms-popup__login > input"
		).value;
		const email = document.querySelector(
			"#popup_1 > div > div > div > div.popup__forms.forms-popup > div.forms-popup__inp.forms-popup__mail._icon-dot > input"
		).value;
		const password = document.querySelector(
			"#popup_1 > div > div > div > div.popup__forms.forms-popup > div.forms-popup__inp.forms-popup__password._icon-dot > input"
		).value;
		const repeatPassword = document.querySelector(
			".forms-popup__repeat-password > input"
		).value;
		alert(password + "$$$$" + repeatPassword);
		console.log(password, repeatPassword);
		if (password !== repeatPassword)
			return alert("Введённые пароли не совпадают");
		const firstName = document.querySelector(
			".forms-popup__name > input"
		).value;
		const lastName = document.querySelector(
			".forms-popup__surname > input"
		).value;
		const response = await fetch("http://localhost/user/signUp", {
			method: "POST",
			headers: {
				"Content-Type": "application/json",
			},
			body: JSON.stringify({
				login,
				firstName,
				lastName,
				email,
				password,
			}),
		}).then((res) => res.json());
		console.log(response);
		if (!response.code) {
			localStorage.setItem("token", response.token);
			location.reload();
		} else alert(response.message);
	});

function renderUsers(users) {
	users.forEach((user) => {
		// Создаем родительский элемент
		const pageBody = document.createElement("div");
		pageBody.classList.add("page__body");

		// Создаем ссылку-изображение
		const linkPersonImage = document.createElement("a");
		linkPersonImage.classList.add("page__link-person");
		linkPersonImage.href = "";

		// Создаем блок изображения
		const pageImage = document.createElement("div");
		pageImage.classList.add("page__image");
		linkPersonImage.appendChild(pageImage);

		const image = document.createElement("img");
		console.log(user);
		image.src = "http://localhost/public/" + user.photo;
		image.alt = "";
		pageImage.appendChild(image);

		pageBody.appendChild(linkPersonImage);

		// Создаем блок информации о персоне
		const aboutBlock = document.createElement("div");
		aboutBlock.classList.add("page__about-block");

		const linkPersonInfo = document.createElement("a");
		linkPersonInfo.classList.add("page__link-person");
		linkPersonInfo.href = "";

		const pageInfo = document.createElement("div");
		pageInfo.classList.add("page__info");
		pageInfo.textContent = user.lastName + " " + user.firstName;
		linkPersonInfo.appendChild(pageInfo);

		aboutBlock.appendChild(linkPersonInfo);

		// Создаем блок проектов
		const itemProjects = document.createElement("div");
		itemProjects.classList.add("page__item-projects");

		const linkPersonProjects = document.createElement("a");
		linkPersonProjects.classList.add("page__link-person");
		linkPersonProjects.href = "";

		const aboutProjects = document.createElement("p");
		aboutProjects.classList.add("page__about-projects");
		aboutProjects.textContent = "Мои работы";
		linkPersonProjects.appendChild(aboutProjects);

		itemProjects.appendChild(linkPersonProjects);

		const blockItems = document.createElement("div");
		blockItems.classList.add("page__block-items");

		const linkPersonItem1 = document.createElement("a");
		linkPersonItem1.classList.add("page__link-person");
		linkPersonItem1.href = "";

		const project1 = document.createElement("div");
		project1.classList.add("page__project");

		const linkPersonProject1 = document.createElement("a");
		linkPersonProject1.classList.add("page__link-person");
		linkPersonProject1.href = "";

		const projectIcon1 = document.createElement("div");
		projectIcon1.classList.add(
			"page__project-icon",
			"page__project-icon_1"
		);

		const imageIcon1 = document.createElement("img");
		imageIcon1.src = "img/icons/figma.svg";
		imageIcon1.alt = "";
		projectIcon1.appendChild(imageIcon1);

		linkPersonProject1.appendChild(projectIcon1);

		const projectItem1 = document.createElement("a");
		projectItem1.classList.add("page__project-item");
		projectItem1.href = "";
		projectItem1.textContent = "Дизайн сайта-портфолио";

		linkPersonItem1.appendChild(linkPersonProject1);
		linkPersonItem1.appendChild(projectItem1);
		project1.appendChild(linkPersonItem1);

		const project2 = document.createElement("div");
		project2.classList.add("page__project");

		const projectIcon2 = document.createElement("div");
		projectIcon2.classList.add(
			"page__project-icon",
			"page__project-icon_2"
		);

		const imageIcon2 = document.createElement("img");
		imageIcon2.src = "img/icons/artstation.svg";
		imageIcon2.alt = "";
		projectIcon2.appendChild(imageIcon2);

		const projectItem2 = document.createElement("a");
		projectItem2.classList.add("page__project-item");
		projectItem2.href = "";
		projectItem2.textContent = "Логотипы для компаний";

		project2.appendChild(projectIcon2);
		project2.appendChild(projectItem2);

		blockItems.appendChild(linkPersonItem1);
		blockItems.appendChild(project2);

		itemProjects.appendChild(blockItems);

		aboutBlock.appendChild(itemProjects);
		pageBody.appendChild(aboutBlock);

		// Создаем блок информации о персоне
		const infoPerson = document.createElement("div");
		infoPerson.classList.add("page__info-person");

		const pageText = document.createElement("div");
		pageText.classList.add("page__text");
		pageText.textContent = user.shortDescription;

		const linkProfile = document.createElement("a");
		linkProfile.classList.add("page__button", "button");
		linkProfile.href = "user.html?" + user.id;
		linkProfile.textContent = "Перейти в профиль";

		infoPerson.appendChild(pageText);
		infoPerson.appendChild(linkProfile);
		pageBody.appendChild(infoPerson);

		// Вставляем созданную структуру в нужное место на странице
		const container = document.querySelector(".page__block");
		container.appendChild(pageBody);
	});
}

if (/home\.html/i.test(location.pathname)) {
	fetch(`http://localhost/user/list?`, {
		headers: {
			authorization: `Bearer ${localStorage.getItem("token")}`,
		},
	})
		.then((res) => res.json())
		.then((response) => {
			console.log(response);
			if (response.code) return alert(response.message);
			renderUsers(response);
		});
	document
		.querySelector(
			"body > div.wrapper > main > div > div > div.page__block > div.page__block-header > div > input"
		)
		.addEventListener("input", (e) => {
			const elements = document.querySelectorAll(".page__body");
			elements.forEach((element) => {
				element.remove();
			});
			fetch(
				`http://localhost/user/list${!e.target.value.length ? "" : `?query=${e.target.value}`
				}`,
				{
					headers: {
						authorization: `Bearer ${localStorage.getItem(
							"token"
						)}`,
					},
				}
			)
				.then((res) => res.json())
				.then((response) => {
					console.log(response);
					if (response.code) return alert(response.message);
					renderUsers(response);
				});
		});
}

if (/user\.html/i.test(location.pathname)) {
	fetch(
		`http://localhost/user/${location.search.length ? location.search.slice(1) : ""
		}`,
		{
			headers: {
				authorization: `Bearer ${localStorage.getItem("token")}`,
			},
		}
	)
		.then((res) => res.json())
		.then((user) => {
			console.log(user);
			if (user?.code) return alert(user.message);

			const headerText = document.querySelector(
				"body > div.wrapper > main > div.page__about.about > div > div > div.about__info > h2"
			);

			headerText.textContent = `Я ${user.lastName} ${user.firstName}`;
			const descText = document.querySelector(
				"body > div.wrapper > main > div.page__about.about > div > div > div.about__info > div"
			);
			descText.textContent = user.shortDescription;

			const fullDescText = document.querySelector(
				"body > div.wrapper > main > div.page__why-me.why-me > div > div > div.why-me__text"
			);
			fullDescText.textContent = user.fullDescription;

			const button = document.querySelector(
				"body > div.wrapper > main > div.page__projects.projects > div > div > div.projects__info > button"
			);
			button.addEventListener(
				"click",
				() => (location.href = "https://t.me/" + user.contacts.tg)
			);
			const secondButton = document.querySelector(
				"body > div.wrapper > main > div.page__about.about > div > div > div.about__info > button"
			);
			secondButton.addEventListener(
				"click",
				() => (location.href = "https://t.me/" + user.contacts.tg)
			);

			user.photoWorks.forEach((work) => {
				const contentBlock = document.querySelector(".projects__cards");

				// Создаем новый элемент div
				const newCard = document.createElement("div");
				newCard.classList.add("projects__card", "card");

				// Создаем новый элемент a
				const newLink = document.createElement("a");
				newLink.href = "";
				newLink.classList.add("card__project");

				// Создаем новый элемент picture
				const newPicture = document.createElement("picture");

				// Создаем новый элемент img
				const newImage = document.createElement("img");
				newImage.src = work;
				newImage.alt = "";

				// Добавляем элементы в DOM
				newPicture.appendChild(newSource);
				newPicture.appendChild(newImage);
				newLink.appendChild(newPicture);
				newCard.appendChild(newLink);
				contentBlock.appendChild(newCard);
			});
		});
}

if (/lk\.html/i.test(location.pathname)) {
	const form = document.querySelector("form");
	form.addEventListener("submit", async (event) => {
		event.preventDefault();
		const formData = new FormData();
		const a = document.querySelector(
			"body > div.wrapper > main > div > div > form > div.personal-account__about-me > div.personal-account__photo > input"
		);

		formData.append("avatar", a.files[0]);
		const shortText = document.querySelector("#message");
		formData.append("shortDescription", shortText.value);

		const fullText = document.querySelector("#skills");
		formData.append("fullDescription", fullText.value);

		const tg = document.querySelector("#telegram");
		formData.append("tg", tg.value);

		const phone = document.querySelector("#phone");
		formData.append("phone", phone.value);

		const response = await fetch("http://localhost/user/", {
			method: "POST",
			headers: {
				authorization: `Bearer ${localStorage.getItem("token")}`,
			},
			body: formData,
		}).then((res) => res.json());
		console.log(response);
		if (!response.code) {
			alert("Успешно загружено");
		} else alert(response.message);
	});

	fetch(`http://localhost/user/`, {
		headers: {
			authorization: `Bearer ${localStorage.getItem("token")}`,
		},
	})
		.then((res) => res.json())
		.then((user) => {
			console.log(user);
			if (user?.code) return alert(user.message);
			document.querySelector(".personal-account__input_text").value =
				user.shortDescription;
			document.querySelector(".personal-account__textarea").value =
				user.fullDescription;
			document.querySelector(".personal-account__input_name").value =
				user.lastName + " " + user.firstName;
			document.querySelector(".personal-account__tg-inp").value =
				user.contacts.tg || "";
			document.querySelector(".personal-account__number-inp").value =
				user.contacts.phone || "";
			// document.querySelector(".popup__project-name").value =
			//     "Название говна";
			// document.querySelector(".popup__project-link").value =
			//     "Ссылка на гавно";
		});
}

